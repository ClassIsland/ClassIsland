<ci:ProfileTransferProviderControlBase xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:ci="http://classisland.tech/schemas/xaml/core"
             xmlns:controls="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
             xmlns:profileTransferProviders="clr-namespace:ClassIsland.Core.Abstractions.Controls.ProfileTransferProviders"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="ClassIsland.Core.Abstractions.Controls.ProfileTransferProviders.GenericImportProviderBase"
             d:DataContext="{d:DesignInstance profileTransferProviders:GenericImportProviderBase}">
    <ci:ProfileTransferProviderControlBase.Resources>
        <ci:IntToRadioButtonSelectionConverter x:Key="IntToRadioButtonSelectionConverter" />
    </ci:ProfileTransferProviderControlBase.Resources>
    <ScrollViewer>
        <StackPanel Classes="settings-container animated-intro">
            <controls:SettingsExpander Header="{Binding ImportFileHeader}">
                <controls:SettingsExpander.Footer>
                    <StackPanel Orientation="Horizontal" Spacing="4">
                        <TextBox VerticalAlignment="Center"
                                 Text="{Binding SourceFilePath}"
                                 MaxWidth="250"
                                 MinWidth="100"/>
                        <Button VerticalAlignment="Center"
                                Content="{ci:FluentIcon &#xe88d;}"
                                Click="ButtonPickFile_OnClick"/>
                    </StackPanel>
                </controls:SettingsExpander.Footer>
            </controls:SettingsExpander>
            <controls:SettingsExpander Header="导入目标" IsExpanded="True">
                <controls:SettingsExpanderItem >
                    <RadioButton IsChecked="{Binding ImportType, Converter={StaticResource IntToRadioButtonSelectionConverter}, ConverterParameter=0}">合并到当前档案</RadioButton>
                </controls:SettingsExpanderItem>
                <controls:SettingsExpanderItem>
                    <controls:SettingsExpanderItem.Footer>
                        <ci:Field Suffix=".json">
                            <ci:Field.IsVisible>
                                <Binding Path="ImportType" Converter="{x:Static ObjectConverters.Equal}">
                                    <Binding.ConverterParameter>
                                        <x:Int32>1</x:Int32>
                                    </Binding.ConverterParameter>
                                </Binding>
                            </ci:Field.IsVisible>
                            <TextBox Watermark="新档案名称" />
                        </ci:Field>
                    </controls:SettingsExpanderItem.Footer>
                    <RadioButton IsChecked="{Binding ImportType, Converter={StaticResource IntToRadioButtonSelectionConverter}, ConverterParameter=1}">导入到新的档案</RadioButton>
                </controls:SettingsExpanderItem>
            </controls:SettingsExpander>
        </StackPanel>
    </ScrollViewer>
</ci:ProfileTransferProviderControlBase>
