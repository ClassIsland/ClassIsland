# 2.0.0.0

> [!important]
> 在升级到 2.0 前，建议先阅读[2.0 相关问答（Ⅱ）](https://github.com/ClassIsland/ClassIsland/discussions/1486)和(2.0 相关问答（Ⅰ）)[https://github.com/ClassIsland/ClassIsland/discussions/1145]。

<img src="https://res.classisland.tech/stickers/2.png" height="75" width="75" alt="白厄_再见" title="白厄_再见"/>


2.0 - Khaslana（卡厄斯兰那） Release 1

## 🚀 新增功能与优化

- **【应用】跨平台支持**：ClassIsland 已由 WPF 迁移到 Avalonia，现在支持在 Windows、Linux 和 MacOS 上运行。
- **【组件】更丰富的组件设置**：支持以主界面行、组件为单位为组件设置样式。
- **【UI】FluentUI**：应用主要 UI 设计语言更变为 Fluent 2 设计，提供更加现代化的界面。
- **【UI】动画**：为主界面和部分 UI 界面添加了更灵动的动画，部分动画需要将【应用设置】->【基本】中将动画级别调整到【华丽】才能生效
- **【提醒】多行提醒**：提醒现在可以在多个主界面行上显示
- 【组件】优化多行组件的配置逻辑，多行组件将按行分组显示
- 【组件】将内置的容器组件名称由 XX 组件修改为 XX 容器
- 【组件】添加堆叠容器
- 【课程组件】淡化上过的课程
- 【数据迁移】支持从 ClassIsland 1.7 和 Class Widgets 1.x 导入数据 ([#1080](https://github.com/ClassIsland/ClassIsland/issues/1080))
- 【课表启用】课表多周轮换支持，最高支持 9 周轮换
- 【UI/天气】添加 SF 符号天气图标包
- 【插件市场】插件自动更新 ([#591](https://github.com/ClassIsland/ClassIsland/issues/591))
- 【自动化】工作流运行状态指示器
- 【自动化/行动】修改自定义应用设置
- 【主界面】通过降低进度条更新频率优化主界面性能占用 ([#1242](https://github.com/ClassIsland/ClassIsland/issues/1242))
- 【主界面】为主界面行添加灵动动画
- 【应用】实现全局存储区，将全局变量存储到全局存储区中
- 【更新】差分更新支持
- 【API/托盘菜单】添加自定义菜单注册功能
- 【API/提醒】暴露提醒涟漪特效颜色API
- 【API/UI】引入图标表达式
- 【API/档案迁移】自定义档案迁移提供方接口


## 🐛 Bug 修复

- 【组件】修复多行组件可能顺序错乱的问题
- 【UI】修复应用界面可能冻结的问题

## 移除的功能

以下功能由于平台限制，已经移除。

- 【档案】Excel 导入/导出：由于 Avalonia 没有适合的表格控件库，此功能暂缓移植，并将在未来以其它形式提供。
- 【启动界面】启动界面：Avalonia 不支持多线程 UI，因此难以实现如 1.x 那样比较复杂的启动界面，故移除了此功能。

## 自 1.7.106.2 以来的更改和修复

### 🚀 新增功能与优化

- 【规则集】日出日落自动化规则
- 【插件】批量安装 cipx ([#1513](https://github.com/ClassIsland/ClassIsland/issues/1513))
- 【UI】优化返回按钮动画
- 【UI/应用设置】移植导航返回功能 ([#1481](https://github.com/ClassIsland/ClassIsland/issues/1481))
- 【UI/应用设置】优化导航栏图标大小
- 【UI/应用设置/关于】关于页面 banner 背景
- 【UI/欢迎向导】添加基本使用指引
- 【UI/规则集】将规则集反转按钮改为文本描述 ([#1529](https://github.com/ClassIsland/ClassIsland/issues/1529))
- 【应用】在非DEBUG构建中，若上次会话因MLE终止则在日志中显示警告
- 【备份】在恢复备份界面排除系统文件
- 【组件/天气】模糊降水预报
- 【平台/Windows】避免在非Windows平台上加载平台特定语音提供服务

### 🐛 Bug 修复

- 【数据迁移】在迁移时不加载插件
- 【文件】修复因在复制文件夹时没有传递 overwrite 参数，导致无法覆盖已存在的配置的问题 ([#1504](https://github.com/ClassIsland/ClassIsland/issues/1504))
- 【主界面】修复主界面因隐藏规则类设置错误导致不遵循隐藏规则的问题 ([#1495](https://github.com/ClassIsland/ClassIsland/issues/1495))
- 【主界面】修复应该隐藏的主界面行在切换组件后没有隐藏的问题 ([#1506](https://github.com/ClassIsland/ClassIsland/issues/1506))
- 【平台/Windows/通知】使用 ToastNotificationManagerCompat 处理通知，修复因设置 aumid 导致堆损坏的问题
- 【UI】重构 AnimatedIconButton ，修复其在特定情况下状态异常的问题 ([#1478](https://github.com/ClassIsland/ClassIsland/issues/1478))
- 【UI/应用设置/基本】修复【降低主界面进度条精度】设置项目描述错字 ([#1505](https://github.com/ClassIsland/ClassIsland/issues/1505))
- 【UI/应用设置/更新】部署成功后隐藏检查更新

<!-- generated by git-cliff -->
